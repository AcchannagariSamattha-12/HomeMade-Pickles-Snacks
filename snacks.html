{% extends "navbar.html" %}

{% block title %}Snacks - HomeMade Pickles{% endblock %}

{% block content %}
<h1 style="text-align: center; color: #3d2e1e; padding-top: 20px;">Snacks</h1>

<div class="container" style="display: grid; grid-template-columns: repeat(3, 1fr); justify-items: center; gap: 30px; padding: 30px;">
  {% set items = [
    {'name': 'Murukulu', 'description': 'Crispy deep-fried South Indian snack made from rice flour.', 'price': 90, 'image': '/static/images/murukulu.jpeg'},
    {'name': 'Banana Chips', 'description': 'Thinly sliced and fried banana chips with a salty crunch.', 'price': 80, 'image': '/static/images/banana_chips.jpg'},
    {'name': 'Chekkalu', 'description': 'Crunchy rice flour patties with chana dal and spices.', 'price': 85, 'image': '/static/images/chekkalu.jpg'},
    {'name': 'Dry Fruit Laddoo', 'description': 'Nutritious and delicious laddoos made with assorted dry fruits.', 'price': 120, 'image': '/static/images/dryfruit_laddoo.jpg'},
    {'name': 'Arisalu', 'description': 'Traditional sweet made from rice flour and jaggery, deep-fried.', 'price': 100, 'image': '/static/images/arisalu.jpeg'},
    {'name': 'Gavvalu', 'description': 'Shell-shaped sweet made of maida and jaggery syrup.', 'price': 95, 'image': '/static/images/gavvalu.jpg'}
  ] %}

  {% for item in items %}
  <div class="card" style="background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 260px; padding: 20px; text-align: center; transition: transform 0.3s ease;">
    <img src="{{ item.image }}" alt="{{ item.name }}" style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;">
    <h3>{{ item.name }}</h3>
    <p>{{ item.description }}</p>

    <div class="price" id="price-{{ loop.index0 }}" data-base-price="{{ item.price }}" style="color: #a47438; font-weight: bold; margin: 8px 0;">
      â‚¹{{ item.price }}
    </div>

    <label>Select Weight:</label>
    <select onchange="updatePrice(this, {{ loop.index0 }})">
      <option value="250">250g</option>
      <option value="500">500g</option>
      <option value="1000">1kg</option>
    </select>

    <form method="POST" action="/add_to_cart">
      <input type="hidden" name="name" value="{{ item.name }}">
      <input type="hidden" name="price" value="{{ item.price }}">
      <input type="hidden" id="weight-{{ loop.index0 }}" name="weight" value="250">
      <button type="submit" class="buy-button" style="background-color: #a47438; color: white; padding: 8px 15px; border: none; border-radius: 6px; margin-top: 10px; cursor: pointer;">Buy Now</button>
    </form>
  </div>
  {% endfor %}
</div>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}
