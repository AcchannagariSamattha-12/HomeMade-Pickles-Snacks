{% extends "navbar.html" %}

{% block title %}Veg Pickles - HomeMade Pickles{% endblock %}

{% block content %}
<h1 style="text-align: center; color: #2e2e2e; padding-top: 20px;">Vegetarian Pickles</h1>

<div class="container" style="display: grid; grid-template-columns: repeat(3, 1fr); justify-items: center; gap: 30px; padding: 30px;">
  {% set items = [
    {'name': 'Mango Pickle', 'description': 'Classic Andhra-style Avakaya made from raw mangoes and mustard.', 'price': 170, 'image': '/static/images/mango_pickle.jpeg'},
    {'name': 'Tomato Pickle', 'description': 'Ripe tomatoes pickled with traditional spices for a tangy taste.', 'price': 150, 'image': '/static/images/tomato_pickle.jpg'},
    {'name': 'Lemon Pickle', 'description': 'Zesty and tangy lemon chunks cured in salt and spices.', 'price': 140, 'image': '/static/images/lemon_pickle.jpeg'},
    {'name': 'Gongura Pickle', 'description': 'Sour gongura leaves turned into a spicy and flavorful pickle.', 'price': 180, 'image': '/static/images/gongura_pickle.jpg'},
    {'name': 'Ginger Pickle', 'description': 'Spicy and aromatic pickle made with fresh ginger slices.', 'price': 160, 'image': '/static/images/ginger_pickle.jpg'},
    {'name': 'Amla Pickle', 'description': 'Healthy gooseberries pickled in a traditional Andhra-style mix.', 'price': 175, 'image': '/static/images/amla_pickle.jpeg'}
  ] %}

  {% for item in items %}
  <div class="card" style="background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 260px; padding: 20px; text-align: center; transition: transform 0.3s ease;">
    <img src="{{ item.image }}" alt="{{ item.name }}" style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;">
    <h3>{{ item.name }}</h3>
    <p>{{ item.description }}</p>

    <div class="price" id="price-{{ loop.index0 }}" data-base-price="{{ item.price }}" style="color: #3b824c; font-weight: bold; margin: 8px 0;">
      â‚¹{{ item.price }}
    </div>

    <label>Select Weight:</label>
    <select onchange="updatePrice(this, {{ loop.index0 }})">
      <option value="250">250g</option>
      <option value="500">500g</option>
      <option value="1000">1kg</option>
    </select>

    <form method="POST" action="/add_to_cart">
      <input type="hidden" name="name" value="{{ item.name }}">
      <input type="hidden" name="price" value="{{ item.price }}">
      <input type="hidden" id="weight-{{ loop.index0 }}" name="weight" value="250">
      <button type="submit" class="buy-button" style="background-color: #3b824c; color: white; padding: 8px 15px; border: none; border-radius: 6px; margin-top: 10px; cursor: pointer;">Buy Now</button>
    </form>
  </div>
  {% endfor %}
</div>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}
